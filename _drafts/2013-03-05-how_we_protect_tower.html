---
layout: post
title: 我们是怎么保护Tower的
categories:
- Tower
- 随笔
tags:
- 安全
status: publish
type: post
published: true
meta:
  _edit_last: '4'
  views: '24397'
---
<p><a href="http://blog.mycolorway.com/2013/03/05/how_we_protect_tower/"><img src="http://blog.mycolorway.com/wp-content/uploads/2013/03/safety.jpg" alt="tower_safety" title="tower_safety" width="600" height="338" class="aligncenter size-full wp-image-4034" /></a></p>
<p>最近，在线软件服务“日志宝”，上线7个月就被360收购，引发科技媒体的热议，没想到在国内一贯被认为不靠谱的在线软件服务（即SaaS），也能有春天。业余散布小道消息的冯大辉（<a href="http://weibo.com/fenng">@Fenng</a>）倒是先知先觉，日志宝一推出就觉得有戏，还在自己的微博作了推荐。</p>
<p>关于SaaS靠不靠谱的议论，跟当年议论电子商务靠不靠谱有点像，都是只见滚滚灰尘不见历史车轮。当年，不靠谱派质疑电商的是不诚信，现在，他们质疑SaaS的是不安全。生活中，有很多例子能够支持他们，比如最近平安保险泄漏80万份保单资料，比如京东和当当的用户账号泄密导致余额被盗，比如CSDN的用户密码泄漏等。但是，这些跟SaaS有什么关系？这些企业的生意都不是软件服务，出了安全事件，道个歉就完了，又伤不到它们的筋骨。</p>
<p><!--more--></p>
<p>上周日（3月3日），全球知名的笔记软件服务Evernote发出公告说，有部分用户的资料（包括用户名，邮箱和加密后的密码）遭黑客窃取，但用户存储的笔记资料和信用卡信息没有被盗，经确认是安全的。尽管如此，此次Evernote被攻击的事件，仍然影响很大，Evernote建议所有用户都修改密码，确保万无一失。从这次事件，可以看到：1、在线软件服务商的安全反应迅速，能快速修补黑客造成的破坏。2、不会犯“明文密码”这样的低级错误，基础安全措施牢固。3、当用户安全受到威胁时，在线软件服务商永远会把安全放到第一位，不惜冒流失大量客户的风险，也要强制所有用户修改一次密码。</p>
<p>Evernote为什么会这么自觉的靠谱？不是他们血管里流淌着道德的血液，而是不靠谱他们就会破产！就像电子商务的基础是诚信，所以现在的网店经常比商场专柜还靠谱。在线软件服务的基础是安全，所以它一定会比绝大多数的软件都安全。其次，收费的服务更安全。当用户和客户是同一个人时，它除了把服务做好之外，没有其他活路，这就逼着企业，去竭尽全力的保障安全。所以，用SaaS服务大可放心，像Dropbox，Gmail，QQ企业邮箱等如果有安全问题，他们一定比你还着急。对于普通用户，与其担心在线软件服务是否安全，还不如认真做好自己的密码安全，别用手机号码、生日、123456之类的不安全密码。对于企业，也需要清醒的认识到，在员工手机都已经能拍照上网的时代，企业内网的信息围墙作用已经降为零了。要知道，放在床底下的钱，肯定不如放在银行安全。</p>
<p>在我们对tower.im的流失用户的回访中，也有很多客户提到是因为对安全的担心，才放弃tower.im的，不是我们的软件和服务不够好。对此，我们表示理解，改变认识需要时间，同时也有一些话要说。</p>
<p>实际上，虽然我们是只有12个人的小公司，但因为生存的压力，对于安全的重视和投入，可能比那些大公司都要好。在线软件服务的安全，在我们眼里，跟食品安全是一样的。我们看到某牛的Logo会转身走开，如果tower.im在安全问题上信用破产，相信你也会这样对我们。所以我们会尽一切努力去保证tower.im的安全，它是公司的命。</p>
<p>从tower.im设计之初，我们定了三个安全目标：1、不能丢。2、不被偷。3、不做恶。</p>
<p><strong>不能丢</strong></p>
<p>尽一切可能，降低硬件故障导致数据丢失的可能性。</p>
<p>具体措施上，我们将用户在Tower中上传的附件存储在阿里云的OSS云存储系统中（实时数据灾备，加密存储）；数据库采用阿里云的RDS云数据库（异地主从备份）；主机使用阿里云弹性计算。我们尽量多的使用成熟的云服务，也是想依托这些大型互联网公司成熟的技术经验，为Tower的数据安全保驾护航。说到这里，得夸夸阿里云，从tower.im上线到今天，uptime是100.0%，很给力。</p>
<p>同时，为了以防万一，我们用一台日本的Linode，作为阿里云的灾备服务器。</p>
<p><strong>不被偷</strong></p>
<p>尽一切可能，降低软件缺陷导致数据泄漏的可能性。</p>
<p>我们虽然在设计和开发tower.im的过程中，做了很多工作来提高软件的可靠性，构建安全防线，但是，没有经过矛攻击测试的盾，是没有安全性可言的。</p>
<p>为此，我们找到了<a href="http://www.wooyun.org/">乌云联盟</a>（国内知名的安全机构，主要由白帽子组成），请他们对tower.im进行为期一个月的安全渗透，找出防线上的缺陷，按效果付费。</p>
<p>具体的过程是这样的：乌云的白帽发现缺陷后，会通过在线反馈系统，详细描述漏洞原理，验证方法和提出建议的修复方案。我们的工程师看了如果有疑惑，可以随时在系统上和白帽进行1对1沟通，直到问题被解决。</p>
<p><a href="http://blog.mycolorway.com/wp-content/uploads/2013/03/wooyun.jpg"><img class="aligncenter size-full wp-image-3999" title="wooyun" src="http://blog.mycolorway.com/wp-content/uploads/2013/03/wooyun.jpg" alt="" width="548" height="445" /></a></p>
<p>一个月下来，乌云帮我们找到了4个中级漏洞，超过20个低级漏洞，收获不小。我们通过这次合作，一方面是提高了tower.im的安全性，另一方面也通过实战案例，锻炼了队伍，一举两得。</p>
<p>这种项目式的安全检测服务，是每个SaaS服务都应该去做的体检，越早做越好，能有效避免“猝死”。但更重要的是，是要跟乌云这样的安全机构紧密合作，坚持不懈的保护数据安全。大家如果有觉得靠谱的其他安全机构，欢迎推荐给manfred@mycolorway.com，帮助我们把Tower做的更好，谢谢。</p>
<p><strong>不作恶</strong></p>
<p>尽一切可能，降低人的缺陷导致数据被滥用的可能性。</p>
<p>首先，彻底消灭作恶的动机，让作恶无利可图。我们所有的收入都来自用户每个月的服务费，Tower里没有任何广告。我们坚定的相信，只要我们的软件服务好，能让用户心甘情愿的持续付费，就足以支持我们成功。</p>
<p>其次，能接触到核心数据的人越少越好。我们团队内部只有3个系统工程师，能够登陆服务器操作用户数据，因此，如果有一天不幸的事情真的发生了， 处理起来倒也挺简单的，买三把刀就行了 ：）</p>
<p>不能丢，不被偷，不做恶，是我们对所有Tower用户的承诺。希望通过实际行动，能在这普遍缺乏信任的国度，尽可能多的获得信任。</p>
